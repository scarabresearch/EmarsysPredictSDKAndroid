language: android
jdk: oraclejdk8

env:
  global:
    - secure: "lgTObtGA8mnYwMJ1UlUPh4R+pmaPXRt0fz3ybW/0Z08lnb9Zutt/T2cbvjuzp47r+olC3p4AqETiaWLKudA3iTXiP+cZdkK1DhoYULf9BIOePpdT18fH/SDL3cr6sT5nPhU7/iaqHYRA6eCcnftK9vmaZ9/97UHOhaQ/xVkISoQKej2AujRfzoNBfNlK2FrK1ECq/PMIifwHZonzOkWDoqBUwagQrIEiD3GJKoLCHR3KRFKobnXCtL6cfaAKfkne632gndiA+6RNfgrAOlNK3+iIbvF3NhCFbkY0NBJYsefFr930elHjuLdoICfvQYmJeIWF6g8JJsdSZlwsdNEDyTbYbPBbBEh4wZqoO4qc+Tr8zgUouBcvplAOqzEgF4LQOztpFNdamtsT94atwJ5L7RZJCu/ggBKZTMMA7/XjC54N1nTfhgoxWPQ2Lzvi0KJAFwCNrHTxDUU6wq0oojf02dGoMAC2HqTwqPk9/IAams0oeYDCqK95UyyYX8YEN/g2UxYJlx4IOQEtgbq0wKvabnHFtPa1RfD39RUXZET0ooHIe3Ugbua7z5joSgPL6o5TcL7wSPTUcuBMhbu2yI+WKJJNM81+Zz/LPjgcDzeijJ1BoJ8SAnVtULcRbORR8l92cI9Ji2kk25L3ewlrAidbl1Y/amOUqrWkgWJ253rVTlU="
    - secure: "oNbh3RtCUdwtiWKMZj7Vhtp4cs7oz094KBcIj+gRLewiv0HnRXISJxZqgN5Ckpdwh66d1wd4c7GCRdcRJjs6fBVVoy0ycPlhSG1mKelPiK7XpPrIbH3/bc1HT8yeHSP1AcE68uIcuq0Ybe+aRqteWQwbOtmc0r0N5tfi8heMjR2LD0bRiQuZ7RiiqMvw+cWe+O4Vjo1zyneAnpH2/GE8MD3GMKDCQDtMcr35fZ48jXRWN1eEsoWkXt4xUMGNIVYbD8uN8uWE8ZdbxuVKZzuL9arlQu3HG/vP1j5BVT7GmuhSyvn7cdeO5AfdfJJjXB6/M9YAk3ewZiyeViNCSKjgGJMcluxmW9yFVDOPFLkBvFY9ZYId+NV1TGy0nUYH7Cd+ByoMJ7sQwqRIbKE77TOVPtEk1/tMO+vCQ2cSyKynieVq/jmFgvV3U87SMPZNQMPRQzj9a8gZr065CVB83BoOy0X3hy20POrzvAJV9wjh/0F0azTS9SeVffRNSpMJQ6WP7X6o29Xe0JY7jmNBXsWKCnWDl61ET/k5gMXkRsevAGjjM8fPACfOcLrlOXpGuDAUIG8pmte1jgWhJk6pZKSydH2eZeHu6PyKz3/9V7swXY1ow0+60CS/ZxHwUn7xlTRSPxcGTBdAarvrMsuhhiyktHCLqA2tJ9j7S6r+uf8GrS0="
    - secure: "pEpz588qUQD0jURyr/4pBc6LHSRklfNFYdszkXqyca88WBIKymDzSUlZdYd2j8yhBgW5P21r8Qi7OZL3XNSPplNgLgTw8/QfC0k/oI6vWm3HQlrohYHBh6YaLrSyCqRJE6g+Sr7WeYr/NFMoAPuVjMYyEMydS1pOChyuoXTOEQIt55wuH365HzxOaJTeEIz7vjvMDY7R8yFF99Lo7E3ypp/4rwcOYsxtMZVI/zI4jbVGFwnVPqyj1uL/YA+VaP8qBWB7Iy1UN4jAr3N0U20x6QtQR/g8J3dTiqeGahfKsOTaShIE6CrZhYN+/pK6OqbQlYwWJ9YGQk1kAioaqkLGRi5qCaaot4wGYC+7ORFuiIXsG+qxdQprCIByv+/0lfP1vFZxUrQvBZPXnczIAQTilJIZqts2ByLwnYE2abARreHr7nSBe2FkmTFwSl7SsqZue1zwYeKh5TzH13cCizoDkIKS+RsfVoFKClgs/n3LzkCOQE2AdxQcEYOlGd2wrvTBS77IE0dTQUN8oy4FYuqCXcWzbhmT6PbEnEBQeaEZIA/HW26LwivHjbHg1MZLFwfMNMNnxEUqU4PBKkguHlBs773Hlx+xWAff7sROC/ue3/IjY5MDSZdvAEWs0JOhcQyylcQ3tjchk1i+Z4/M2bulGxe1kzL6pmFi//30FtqdaLw="

android:
  components:
    - build-tools-22.0.1
    - android-16
    - extra-android-m2repository
    - sys-img-armeabi-v7a-android-16
    - sys-img-x86-android-16

before_script:
  - echo no | android create avd --force -n test -t android-16 --abi armeabi-v7a
  - emulator -avd test -no-skin -no-audio -no-window &
  - android-wait-for-emulator
  - adb shell input keyevent 82 &
  - ./gradlew cAT -i

script: ./gradlew bintrayUploadOnTag

after_success:
  - .travis/publish_javadoc.sh

